{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nconst _c0 = function (a0, a1) {\n  return {\n    \"is-invalid\": a0,\n    \"is-valid\": a1\n  };\n};\nconst _c1 = function (a0, a1) {\n  return {\n    \"btn-secondary\": a0,\n    \"btn-primary\": a1\n  };\n};\nexport class LoginComponent {\n  ngOnInit() {\n    fetch(this.url).then(response => response.json()).then(json => {\n      this.data = json;\n      console.log(this.data);\n    }).catch(err => console.log(\"request failed: \", err));\n    fetch(\"http://localhost:1337/persData\").then(response => response.json()).then(json => {\n      this.pers = json;\n      console.log(this.pers);\n    }).catch(err => console.log(\"request failed: \", err));\n  }\n  constructor(formBuilder) {\n    this.formBuilder = formBuilder;\n    this.url = \"http://localhost:1337/prendi\";\n    this.pers = [];\n    this.mail = \"\";\n    this.reactiveForm = this.formBuilder.group({\n      password: ['', [Validators.required, Validators.minLength(2), Validators.maxLength(20)]],\n      mail: ['', [Validators.pattern('[a-z0-9._%+-]+@[a-z0-9-.]+\\\\.[a-z]{2,}$'), Validators.required]]\n    });\n  }\n  sendData() {\n    console.log(this.reactiveForm.value);\n  }\n  accedi() {\n    const formValue = this.reactiveForm.value;\n    const utenteAutenticato = this.pers.find(user => user.mail === formValue.mail && user.password === formValue.password);\n    if (utenteAutenticato) {\n      // L'utente è autenticato, puoi gestire l'accesso qui\n      console.log('Accesso consentito');\n    } else {\n      // L'utente non è autenticato, puoi gestire il caso qui\n      console.log('Credenziali non valide');\n    }\n  }\n  static #_ = this.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"login\"]],\n    decls: 18,\n    vars: 10,\n    consts: [[1, \"princ\"], [\"novalidate\", \"\", 3, \"formGroup\", \"ngSubmit\"], [2, \"width\", \"300px\", \"height\", \"400px\", \"border\", \"1px solid black\", \"display\", \"flex\", \"flex-direction\", \"column\", \"align-items\", \"center\", \"justify-content\", \"center\", \"border-radius\", \"30px\"], [2, \"text-align\", \"center\"], [\"for\", \"mail\"], [\"type\", \"email\", \"id\", \"mail\", \"name\", \"mail\", \"placeholder\", \"Inserisci l'indirizzo mail\", \"formControlName\", \"mail\", 1, \"form-control\", 2, \"width\", \"200px\", 3, \"ngClass\"], [1, \"form-row\"], [\"for\", \"password\"], [\"type\", \"Password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"Inserisci la password\", \"formControlName\", \"password\", 1, \"form-control\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"mt-3\", \"mb-3\", 2, \"width\", \"240px\", \"border-radius\", \"20px\", 3, \"ngClass\", \"disabled\", \"click\"]],\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"form\", 1);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_1_listener() {\n          return ctx.sendData();\n        });\n        i0.ɵɵelementStart(2, \"div\", 2)(3, \"h2\", 3);\n        i0.ɵɵtext(4, \"LOGIN\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"div\")(6, \"label\", 4);\n        i0.ɵɵtext(7, \"Email\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(8, \"input\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(9, \"br\");\n        i0.ɵɵelementStart(10, \"div\", 6)(11, \"div\")(12, \"label\", 7);\n        i0.ɵɵtext(13, \"Password\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(14, \"input\", 8);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelement(15, \"br\");\n        i0.ɵɵelementStart(16, \"button\", 9);\n        i0.ɵɵlistener(\"click\", function LoginComponent_Template_button_click_16_listener() {\n          return ctx.accedi();\n        });\n        i0.ɵɵtext(17, \"LOGIN\");\n        i0.ɵɵelementEnd()()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"formGroup\", ctx.reactiveForm);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(4, _c0, ctx.reactiveForm.controls[\"mail\"].invalid && ctx.reactiveForm.controls[\"mail\"].dirty, ctx.reactiveForm.controls[\"mail\"].valid && ctx.reactiveForm.controls[\"mail\"].dirty));\n        i0.ɵɵadvance(8);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(7, _c1, ctx.reactiveForm.invalid, ctx.reactiveForm.valid))(\"disabled\", ctx.reactiveForm.invalid);\n      }\n    },\n    dependencies: [i2.NgClass, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n    styles: [\".princ[_ngcontent-%COMP%]{\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  padding-top: 25vh;\\n}\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvbG9naW4vbG9naW4uY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQWE7RUFDYixtQkFBbUI7RUFDbkIsdUJBQXVCO0VBQ3ZCLGlCQUFpQjtBQUNuQiIsInNvdXJjZXNDb250ZW50IjpbIi5wcmluY3tcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XHJcbiAgcGFkZGluZy10b3A6IDI1dmg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n  });\n}","map":{"version":3,"names":["Validators","LoginComponent","ngOnInit","fetch","url","then","response","json","data","console","log","catch","err","pers","constructor","formBuilder","mail","reactiveForm","group","password","required","minLength","maxLength","pattern","sendData","value","accedi","formValue","utenteAutenticato","find","user","_","i0","ɵɵdirectiveInject","i1","FormBuilder","_2","selectors","decls","vars","consts","template","LoginComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","LoginComponent_Template_form_ngSubmit_1_listener","ɵɵtext","ɵɵelementEnd","ɵɵelement","LoginComponent_Template_button_click_16_listener","ɵɵadvance","ɵɵproperty","ɵɵpureFunction2","_c0","controls","invalid","dirty","valid","_c1"],"sources":["C:\\Users\\Leke\\OneDrive\\Desktop\\ANGULAR\\ESAUTO\\EsAuto\\src\\app\\login\\login.component.ts","C:\\Users\\Leke\\OneDrive\\Desktop\\ANGULAR\\ESAUTO\\EsAuto\\src\\app\\login\\login.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'login',\r\n  templateUrl: './login.component.html',\r\n  styleUrls: ['./login.component.css']\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  private url = \"http://localhost:1337/prendi\";\r\n\r\n  data: any;\r\n  pers: { codiceFiscale: string, mail: string, password: string, confermaPassword: string, cognome: string, nome: string, indirizzo: string }[] = [];\r\n\r\n  ngOnInit() {\r\n    fetch(this.url)\r\n      .then(response => response.json())\r\n      .then(json => {\r\n        this.data = json;\r\n        console.log(this.data)\r\n      })\r\n      .catch(err => console.log(\"request failed: \", err))\r\n\r\n    fetch(\"http://localhost:1337/persData\")\r\n        .then(response => response.json())\r\n        .then(json => {\r\n          this.pers = json;\r\n          console.log(this.pers)\r\n        })\r\n        .catch(err => console.log(\"request failed: \", err))\r\n  }\r\n\r\n  reactiveForm: FormGroup;\r\n  mail: string = \"\";\r\n\r\n  constructor(private formBuilder: FormBuilder) {\r\n    this.reactiveForm = this.formBuilder.group({\r\n      password: [\r\n        '',\r\n        [\r\n          Validators.required,\r\n          Validators.minLength(2),\r\n          Validators.maxLength(20)\r\n        ]\r\n      ],\r\n      mail: [\r\n        '',\r\n        [\r\n          Validators.pattern('[a-z0-9._%+-]+@[a-z0-9-.]+\\\\.[a-z]{2,}$'),\r\n\r\n          Validators.required\r\n        ]\r\n      ]\r\n    });\r\n  }\r\n\r\n\r\n\r\n  sendData() {\r\n    console.log(this.reactiveForm.value)\r\n  }\r\n\r\n  accedi() {\r\n    const formValue = this.reactiveForm.value;\r\n    const utenteAutenticato = this.pers.find(user =>\r\n        user.mail === formValue.mail && user.password === formValue.password\r\n    );\r\n\r\n    if (utenteAutenticato) {\r\n      // L'utente è autenticato, puoi gestire l'accesso qui\r\n      console.log('Accesso consentito');\r\n    } else {\r\n      // L'utente non è autenticato, puoi gestire il caso qui\r\n      console.log('Credenziali non valide');\r\n    }\r\n\r\n  }\r\n}\r\n\r\n\r\n/*\r\n\r\n private url=\"http://localhost:1337/prendi\";\r\n\r\n  data:any;\r\n\r\n  ngOnInit() {\r\n    fetch(this.url)\r\n      .then(response=> response.json())\r\n      .then(json=> {\r\n        this.data = json;\r\n        console.log(this.data)\r\n      })\r\n      .catch(err => console.log(\"request failed: \" , err))\r\n  }\r\n */\r\n","<div class=\"princ\">\r\n\r\n  <form novalidate [formGroup]=\"reactiveForm\" (ngSubmit)=\"sendData()\">\r\n    <div style=\"width: 300px; height: 400px; border: 1px solid black; display: flex; flex-direction: column; align-items: center; justify-content: center;border-radius: 30px\">\r\n    <h2 style=\"text-align: center\">LOGIN</h2>\r\n    <!--Mail-->\r\n    <div>\r\n      <label for=\"mail\">Email</label>\r\n      <input style=\"width: 200px\" type=\"email\"\r\n             class=\"form-control\"\r\n             id=\"mail\"\r\n             name=\"mail\"\r\n             placeholder=\"Inserisci l'indirizzo mail\"\r\n             formControlName=\"mail\"\r\n             [ngClass]=\"{\r\n                'is-invalid':reactiveForm.controls['mail'].invalid &&\r\n                             reactiveForm.controls['mail'].dirty,\r\n                'is-valid': reactiveForm.controls['mail'].valid &&\r\n                            reactiveForm.controls['mail'].dirty\r\n             }\">\r\n    </div>\r\n      <br>\r\n    <div class=\"form-row\">\r\n      <!--Name-->\r\n      <div>\r\n        <label for=\"password\">Password</label>\r\n        <input type=\"Password\"\r\n               class=\"form-control\"\r\n               id=\"password\"\r\n               name=\"password\"\r\n               placeholder=\"Inserisci la password\"\r\n               formControlName=\"password\"\r\n        >\r\n      </div>\r\n    </div>\r\n      <br>\r\n\r\n    <button style=\"width: 240px; border-radius: 20px;\" type=\"submit\" class=\"btn btn-primary  mt-3 mb-3\" [ngClass]=\"{'btn-secondary': reactiveForm.invalid,'btn-primary':reactiveForm.valid}\" [disabled]=\"reactiveForm.invalid\" (click)=\"accedi()\">LOGIN</button>\r\n\r\n\r\n</div>\r\n  </form>\r\n</div>\r\n\r\n\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}